CREATE OR REPLACE FUNCTION F_VERIFICA_DATA() RETURNS TRIGGER 
AS 
$$
BEGIN 
	IF CURRENT_DATE - NEW.DATA > 0 THEN 
		RAISE 'Insira uma data valida.';
	END IF;
RETURN NEW;
END;
$$ 
LANGUAGE PLPGSQL;

CREATE OR REPLACE TRIGGER TRG_VERIFICA_DATA
BEFORE INSERT OR UPDATE ON CIRURGIA
FOR EACH ROW EXECUTE PROCEDURE F_VERIFICA_DATA();
